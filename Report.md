# Final Project Report

**Project URL**: https://cmu-ids-fall-2022-final-project-roi-collegematcher-ngipmw.streamlit.app/

**Video URL**: TODO

 ----

## Abstract
TODO

## Introduction
Each year about 3.2 million students graduate from high school, of which 2 million continue their education going to college [1]. Shortlisting universities is often a cumbersome process which is limited by individual bias and timing constraints. Students need to consider various factors, including but not limited to university ranking, location, tuition cost, financial aid, campus life and safety. Evaluating the importance of these different factors to select a university could be tricky.

According to NCES, there are 3,982 institutions in the United States, out of which 1,625 are public four-year and two-year colleges; 1,660 private non-profit four-year and two-year schools; and 657 for-profit schools [2]. The sheer volume of the colleges makes it impossible to review the academic and financial requirements, and the culture to find a university that best suits a student. A college shortlist is a list of approximately six to ten colleges that helps a student to streamline their application process. Creating a college shortlist helps them organize a list of potential schools, encourages them to narrow down their choices, and prompts them to identify schools to further communicate with.

Most students attend college in order to get a better job with a higher salary. But the financial returns to college vary widely depending on the institution a student attends and the subject they study. While prospective students often ask themselves whether college is worth it, the more important questions are how they can make college worth it and what factors affect the return on their investment. A student’s return on investment is based on the time it takes to recoup their original financial investment toward tuition by earning a salary post-graduation. Factors that influence this return on investment are not set in stone and require analysis to identify. These factors influence the university shortlists, making the whole process much more arduous. 

Our application provides students with a dashboard that helps personalize their college shortlists based on their profile, by recommending a list of schools “best fit” for them. This recommendation is based on their preferences for region, funding type, tuition range and academic scores. We also produce a dashboard that details the academic and financial summaries for a university of their choice and display various visualizations describing the demographics of that school. Lastly, we enable the student to dig deeper into the factors they should consider to maximize the return on their investment by illustrating the influence features like tuition cost have on their post-graduation income. Through the analysis in our application, we provide answers to the following questions:
* What universities are best fit for me?
* What university-level characteristics influence my ROI?

To produce these insights, we use the [College Scorecard](https://collegescorecard.ed.gov/data/) dataset which contains historical data for universities from the years 1996-2021 [3]. The data for each year consists of several university level factors and demographic variables of the student population at the university. 

## Related Work
Several college recommender websites like College Board's BigFuture, Cappex, College Search from The Princeton Review, etc. have gained popularity among students. These engines provide tools like Best Fit estimation, college comparisons, scholarship finders, etc., but are hidden behind pay-walls. Shortlisting universities is a taxing task on its own, and the variety of recommender engines adds further complexity to the process. Furthermore, most websites do not talk about return on investment and instead, focus on providing a comprehensive list of colleges.

While an extensive list of universities is not a demerit, the amount of information displayed can easily overwhelm the student. More often than not, after the first ten universities, the recommendations are poorly matched and become more about quantity over quality. We serve as a springboard for refining university shortlists by being concise and producing only the top ten universities that best fit the student’s profile. 

Another important component of our application is the ROI analysis. The Center on Education and the Workforce at Georgetown University produced a list of best universities in terms of return on investment [4] but the data is unintuitive to view and the report does not list all the universities in the College Scorecard dataset. We provide visualizations that explain factors that affect post-graduation earnings across all universities and enable the student to understand what impacts the return on investment on an individual university level as well.

The explanations are generated by training a model that predicts the post-graduation earnings based on university level factors as well as student information. Through the interactive visualizations, we have identified a list of ten features that play a major role in dictating the potential earnings of a student at a given university.

## Methods

### Data Preprocessing
#### Background:
The US Department of Education compiled information about various universities in the United States by combining information from the student financial aid system and federal tax returns in an effort to make educationcal investments less speculative. The result was the College Scorecard dataset. There are approximately 3000 features in this dataset, and are broadly categorized into:
* `SCHOOL`: Location, programs offered, faculty, etc.
* `STUDENT`: Average age, family income, etc.
* `COST`: Cost of attendance, room and board, etc.
* `AID`: Debt, average loan balances, etc.
* `EARNINGS`: Earnings after 1, 3, 6, 8; 10 years, income by gender, race, etc.
* `REPAYMENT`: 1, 3, 5 year repayment rates by family income; percent defaulters, etc.
* `ADMISSIONS`: SAT scores, ACT scores, etc.
* `ACADEMICS`: Degrees awarded by program in percentage, average time for completion, etc.
* `COMPLETION`: Completion rate according to family income bracket, gender, etc.

#### Categories/Features Selected:
We filtered out a subset of the features available for our usecase. This selection was done in two ways. First, we looked at the comprehensive data dictionary provided by the dataset owners and compiled a list of features that at first glance seemed relevant and interesting to explore. These features belonged to the first eight categories in the above list. 

On performing exploratory analysis, we discovered that the data was quite messy and rather incomplete, with over half of the rows missing important data in some cases. To expand the set of working features, we looped through the features in the categories and identified ones with at most 20% missing data and added them to our working dataset. To compensate for the missing data in a few crucial features, we incorporated an additional source of data obtained from [GitHub](https://github.com/lux-org/lux-datasets/blob/master/data/college.csv). We also added latitude and longitude information for each of the universities obtained from a dataset that mapped ZIP codes to their corresponding values. With this, our tally of features came up to 74.

### Recommender:
Our application uses machine learning techniques such as clustering and regression to produce ten universities that best suit the needs of the user. Broadly, the steps listed below are followed to provide a personalized list, based on which visualizations are created and displayed.
- Data Filtering
- Modeling
- Score calculation

#### Data Filtering:
University recommendations are very sensitive to the preferences of the student and their academic profile. To take into consideration their choices, we ask the user to provide us their SAT and ACT scores, the types of university they are looking for, their regions of interest and the tuition range they are comfortable with. With these parameters, we filter out the data to obtain a list of universities that best match their criteria.

#### Modeling:
The over-arching approach we took was to cluster the universities into three groups based on scores and recommended universities from a cluster that best matched the student’s profile. The reasoning behind choosing three clusters was to segregate the universities into how difficult it would be for the student to get accepted: Easy, Medium and Hard. Given the student’s academic test scores, they will be assigned to a cluster and their recommendations come from universities that belong to this cluster.

The algorithm of choice for this clustering is K-Means Clustering [5]. Given the filtered data, we train a k-means model and obtain the cluster labels for each of the universities. We then run the model on the scores submitted by the user to obtain a cluster assignment. This assignment is then used to identify the universities where students’ profile is most similar to the user. 

Once the list of most similar universities is obtained, we then calculate the euclidean distance between the user’s score and the average student’s scores in a university from this list. The recommendation is made up of ten universities with the smallest such distance.

A nuance here is that from our analysis we observed that the SAT and ACT scores are correlataed and follow a linear relationship. Hence, we trained a simple linear regression model that converts the SAT score which ranges between 400 and 1600 to the range followed by ACT scores, which is 1 to 36. The distance is calculated after this conversion.

#### Best Fit Score:
Intuitively, the higher the score, the better chance a student has to get accepted to a university. We calculate the Best Fit Score from the distances obtained from the model as follows:
```math
Score\; S_i = \frac{\frac{1}{d_i}}{\sum_{i=1}^{n} \frac{1}{d_i}}*100
```
Where, 
- `n`: top-n universities
- `d`: distance calculated in the above section

We order the universities on this score and present it to the user in the dashboard in the form of a table and a barplot showing the score.

### Return on Investment Analyzer:

### Choice of Visualizations:

## Results

## Discussion

## Future Work

## References:
[1] The NCES Fast Facts Tool provides quick answers to many education questions (National Center for Education Statistics). National Center for Education Statistics (NCES) Home Page, a part of the U.S. Department of Education. (n.d.). Retrieved November 1, 2022, from https://nces.ed.gov/fastfacts/display.asp?id=51

[2] Digest of Education Statistics, 2020. National Center for Education Statistics (NCES) Home Page, a part of the U.S. Department of Education. (n.d.). Retrieved December 7, 2022, from https://nces.ed.gov/programs/digest/d20/tables/dt20_317.10.asp?current=yes 

[3] Data Home: College Scorecard. Data Home | College Scorecard. (n.d.). Retrieved December 7, 2022, from https://collegescorecard.ed.gov/data/

[4] Ranking 4,500 Colleges by ROI (2022) - CEW Georgetown. (n.d.). CEW Georgetown. Retrieved December 7, 2022, from https://cew.georgetown.edu/cew-reports/roi2022/

[5] MacQueen, J. (1967) Some Methods for Classification and Analysis of Multivariate Observations. Proceedings of the 5th Berkeley Symposium on Mathematical Statistics and Probability, 1, 281-297.

